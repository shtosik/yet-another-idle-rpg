<app-game-menu (changeTab)="changeTab($event)"/>
<div class="game">
  @let tab = gameTab | async;
  <app-battle class="battle"/>
  <app-player-stats class="stats"/>
  <app-panel class="resources">

  </app-panel>
  @if (tab === GameTab.main || tab === GameTab.crafting || tab === GameTab.towns) {
    @switch (tab) {
      @case (GameTab.main) {
        <app-panel class="spells"/>
        <app-panel class="buff-items"/>
      }
      @case (GameTab.crafting) {
        <app-crafting class="crafting"/>
      }
      @case (GameTab.towns) {
        <app-towns class="towns"/>
      }
    }

    <app-equipment class="equipment"/>

    @if (!hasDialogueActive()) {
      <app-inventory class="inventory"/>
    } @else {
      <app-dialogue class="dialogue"/>
    }
    <app-panel class="quests"/>
  }
  @if (tab === GameTab.skillTree) {
    <app-skill-trees class="skill-tree"/>
  }
</div>
<button (click)="resetState()">reset state</button>
<button (click)="giveStat('unspentSkillPoints')">give skill points</button>
<button (click)="giveStat('experience')">give xp</button>
<button (click)="resetQuests()">reset quests</button>
